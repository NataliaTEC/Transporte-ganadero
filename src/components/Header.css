/* ====== Variables y reset pequeño ====== */
:root{
  --bg: #efe9dd;                 /* beige del fondo general */
  --shell: #2d241f;              /* marrón oscuro del header */
  --shell-contrast: #f5f0e6;
  --accent: #C27B3F;             /* Naranja Quemado / Terracota actualizado */
  --accent-press: #A86935;       /* Versión más oscura para estados activos */
  --accent-hover-text: #D4C1A3;  /* Beige / Arena para texto en hover */
  --muted: #bfb6ab;
  --radius-xl: 24px;             /* redondeo grande */
  --radius-2xl: 26px;
  --radius-3xl: 32px;            /* aún más redondeado (pedido) */
  --shadow: 0 10px 25px rgba(0,0,0,.15);
  --shadow-soft: 0 6px 16px rgba(0,0,0,.10);
  --maxw: 1180px;
}

* { box-sizing: border-box; }
.site-header { position: sticky; top: 16px; z-index: 50; }

/* ====== “Floating” shell ====== */
.nav-shell{
  margin: 0 auto;
  width: min(96%, var(--maxw));
  background: var(--shell);
  color: var(--shell-contrast);
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 16px;
  padding: 10px 14px;
  border-radius: var(--radius-3xl);
  box-shadow: var(--shadow);
  border: 1px solid rgba(255,255,255,.06);
  backdrop-filter: saturate(120%) blur(4px);
  transition: transform .25s ease, box-shadow .25s ease, padding .25s ease;
}

/* ====== Estilos para header colapsado ====== */
.site-header.is-collapsed {
  top: 16px;
  left: 16px;
  right: auto;
  width: auto;
  margin: 0;
}

.site-header.is-collapsed .nav-shell {
  grid-template-columns: auto;
  justify-content: start;
  width: auto;
  max-width: none;
  min-width: auto;
  padding: 8px 12px;
  margin: 0;
  transform: none;
  transition: all 0.3s ease;
}

.site-header.is-collapsed .brand span {
  display: none; /* Ocultar texto en estado colapsado */
}

.site-header.is-collapsed .brand img {
  height: 36px; /* Logo más pequeño */
  border-radius: 10px;
  transition: all 0.3s ease;
}

/* Efecto hover para el logo colapsado */
.site-header.is-collapsed .brand:hover {
  transform: scale(1.05);
}

/* Asegurar que el header colapsado se posicione en esquina superior izquierda */
.site-header.is-collapsed {
  position: fixed;
  top: 16px;
  left: 16px;
  z-index: 1000;
}

/* Cuando está expandido, mantener comportamiento sticky original */
.site-header:not(.is-collapsed) {
  position: sticky;
  top: 16px;
  left: auto;
  right: auto;
  width: 100%;
}

/* Ajustes responsive para estado colapsado */
@media (max-width: 900px) {
  .site-header.is-collapsed {
    top: 12px;
    left: 12px;
  }
  
  .site-header.is-collapsed .nav-shell {
    padding: 6px 10px;
  }
  
  .site-header.is-collapsed .brand img {
    height: 32px;
  }
}

/* Asegurar que el contenido no quede oculto detrás del header colapsado */
body {
  scroll-padding-top: 80px;
}

/* Transición suave para todos los estados */
.site-header .nav-shell,
.site-header .brand,
.site-header .brand img {
  transition: all 0.3s ease;
}

/* Estado normal (expandido) */
.site-header:not(.is-collapsed) .nav-shell {
  margin: 0 auto;
  width: min(96%, var(--maxw));
}

/* Asegurar que el header colapsado tenga buen z-index */
.site-header.is-collapsed {
  z-index: 1000;
}

/* Efecto visual para indicar que es clickeable cuando está colapsado */
.site-header.is-collapsed .brand {
  cursor: pointer;
  position: relative;
}

.site-header.is-collapsed .brand::after {
  content: '';
  position: absolute;
  top: -4px;
  left: -4px;
  right: -4px;
  bottom: -4px;
  border-radius: 16px;
  background: rgba(255, 255, 255, 0.1);
  opacity: 0;
  transition: opacity 0.2s ease;
}

.site-header.is-collapsed .brand:hover::after {
  opacity: 1;
}

/* ligera compresión al scrollear */
.site-header.is-scrolled .nav-shell{
  transform: translateY(-2px);
  box-shadow: var(--shadow-soft);
  padding: 8px 12px;
}

/* ====== Marca ====== */
.brand{
  display:flex; align-items:center; gap:10px;
  text-decoration:none; color:inherit; font-weight:800; letter-spacing:.5px;
}
.brand img{ height: 42px; width:auto; border-radius: 12px; }

/* ====== Lista principal ====== */
.nav-list{
  list-style:none; display:flex; align-items:center; gap: 4px;
  padding:0; margin:0; justify-self:center;
}
.nav-item{ position:relative; }
.nav-link{
  appearance:none; background:transparent; border:0; color:inherit; cursor:pointer;
  padding:10px 14px; border-radius: 20px; font-weight:600;
  display:flex; align-items:center; gap:8px;
  transition: background .2s ease, color .2s ease;
}
.nav-link:hover{ background: rgba(255,255,255,.08); }
.nav-item.has-sub > .nav-link .chev{
  display:inline-block; width:8px; height:8px; border-right:2px solid currentColor; border-bottom:2px solid currentColor;
  transform: rotate(45deg); transition: transform .2s ease;
}
.nav-item.open > .nav-link .chev{ transform: rotate(-135deg); }

/* ====== Submenú (nivel 1) ====== */
.submenu{
  position:absolute; left: 8px; top: calc(100% + 10px);
  min-width: 240px;
  background: #fff;
  color:#2c2c2c;
  border-radius: 18px;
  border: 1px solid #eee3d3;
  box-shadow: 0 14px 28px rgba(0,0,0,.12);
  padding: 8px;
  opacity:0; visibility:hidden; transform: translateY(6px);
  transition: opacity .18s ease, transform .18s ease, visibility .18s;
}

/* Hover en desktop */
@media (hover:hover){
  .nav-item.has-sub:hover > .submenu{ opacity:1; visibility:visible; transform: translateY(0); }
}

/* Ítems del submenú */
.submenu-item{ position:relative; }
.submenu-link{
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 12px; border-radius:12px; text-decoration:none; color:inherit;
}
.submenu-link:hover{ background:#f6f2ea; }

/* ====== Sub–submenú (nivel 2) ====== */
.subsubmenu{
  position:absolute; left: calc(100% + 8px); top: 0;
  min-width: 220px; background:#fff; color:#2c2c2c;
  border-radius: 16px; border:1px solid #eee3d3; box-shadow: 0 12px 24px rgba(0,0,0,.10);
  padding:8px; opacity:0; visibility:hidden; transform: translateY(6px);
  transition: opacity .18s ease, transform .18s ease, visibility .18s;
}
.submenu-item.has-sub:hover > .subsubmenu{ opacity:1; visibility:visible; transform: translateY(0); }
.subsubmenu a{ display:block; padding:10px 12px; border-radius:10px; color:inherit; text-decoration:none; }
.subsubmenu a:hover{ background:#f6f2ea; }

/* ====== CTA ====== */
.cta-zone{ display:flex; align-items:center; gap:10px; }
.btn-pill{
  display:inline-block; padding:10px 18px; border-radius:999px;
  background: var(--accent); /* #C27B3F */
  color:#fff; text-decoration:none; font-weight:800;
  box-shadow: 0 6px 16px rgba(194, 123, 63, 0.35);
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
}
.btn-pill:hover{ 
  background: var(--accent); /* Mantener el mismo color de fondo */
  color: var(--accent-hover-text); /* #D4C1A3 */
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(194, 123, 63, 0.45);
}
.btn-pill:active{ 
  transform: translateY(0); 
  box-shadow: 0 4px 12px rgba(194, 123, 63, 0.3);
}

/* ====== Hamburguesa (móvil) ====== */
.hamburger{
  display:none; place-items:center; gap:4px; background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.12); border-radius:14px; padding:10px; cursor:pointer; color:#fff;
}
.hamburger span{ display:block; width:22px; height:2px; background:#fff; border-radius:2px; }
.hamburger.active span:nth-child(2){ opacity:.55; }
.hamburger.active span:nth-child(1){ transform: translateY(6px) rotate(45deg); }
.hamburger.active span:nth-child(3){ transform: translateY(-6px) rotate(-45deg); }

/* ====== Responsive ====== */
@media (max-width: 900px){
  .nav-shell{ grid-template-columns: auto auto auto; }
  .hamburger{ display:grid; }
  .nav-list{
    position:absolute; left:0; right:0; top: calc(100% + 10px);
    margin: 0 auto; width: min(96%, var(--maxw));
    background:#fff; color:#2b221d; border-radius: var(--radius-3xl);
    border:1px solid #eee3d3; box-shadow: var(--shadow);
    padding: 10px; display: none; flex-direction: column; gap:6px;
  }

  .nav-shell.menu-open .nav-list{ display:flex; }

  /* En móvil, los submenús se expanden dentro de la tarjeta */
  .nav-item { width:100%; }
  .nav-link{ width:100%; justify-content:space-between; color:#2b221d; }
  .nav-item.has-sub > .submenu{
    position:static; opacity:1; visibility:visible; transform:none;
    background:#faf7f1; border-radius:16px; border:1px solid #efe4d4; box-shadow:none;
    margin:4px 0; padding:6px;
    display: none;
  }
  .nav-item.open > .submenu{ display:block; }

  .submenu-link{ color:#2b221d; }
  .submenu-item.has-sub > .subsubmenu{
    position:static; opacity:1; visibility:visible; transform:none;
    background:#fff; border:1px solid #efe4d4; margin:6px 0 0 0; display:none;
  }
  .submenu-item.open > .subsubmenu{ display:block; }
}

/* Accesibilidad foco */
.nav-link:focus, .submenu-link:focus, .subsubmenu a:focus, .btn-pill:focus{
  outline: 2px solid #fff; outline-offset: 2px;
}
